!function(e){e.simpleDrawer=function(t,i){this.defaults={btn:".simple-drawer-btn",bar:".simple-drawer-fixed-bar",drawer_inner:".simple-drawer-inner",overlay:".simple-drawer-overlay",wrapper:".simple-drawer-wrapper",btnside:"left",drawerside:"left",fixed:!0},this.setting=e.extend(this.defaults,i),this.initialize(t),this.handleEvents(),1==this.setting.fixed&&this.fixedBarOnScroll()},e.extend(e.simpleDrawer.prototype,{initialize:function(t){this.$el=e(t),this.$btn=e(this.setting.btn),this.$fixed_bar=e(this.setting.bar),this.$window=e(window),this.start_pos=0,this.elementBtnSide(),this.elementDrawerSide(),this.drawerInnerHeight(),this.drawerPartsAppend()},handleEvents:function(){var e=this;this.$btn.on("touchstart click",function(){return e.$el.hasClass("is-open")?(e.drawerSlideClose(),e.wrapperScrollOff()):(e.drawerSlideOpen(),e.wrapperScrollOn()),!1}),this.$overlay.on("touchstart click",function(){return e.drawerSlideClose(),!1})},drawerSlideOpen:function(){return this.$el.addClass("is-open"),this.$btn.addClass("is-open"),this.$overlay.addClass("is-fadein"),this.$fixed_bar.addClass("is-open"),!1},drawerSlideClose:function(){var e=this;return this.$el.removeClass("is-open"),this.$btn.removeClass("is-open"),this.$overlay.removeClass("is-fadein"),setTimeout(function(){e.$fixed_bar.removeClass("is-open")},300),!1},drawerInnerHeight:function(){var t=this.$el.children(this.setting.drawer_inner),i=t.height(),s=e(window).height();i>s&&t.css("height",s-80)},drawerPartsAppend:function(){var t=this.setting.overlay.substr(1);this.$overlayParts='<div class="'+t+' c-drawer__overlay"></div>',e(this.setting.overlay).length<=0&&e("body").append(this.$overlayParts),this.$overlay=e(this.setting.overlay)},wrapperScrollOff:function(){e(this.setting.wrapper).on("touchmove.noScroll",function(e){e.preventDefault()})},wrapperScrollOn:function(){e(this.setting.wrapper).off(".noScroll")},elementBtnSide:function(){return"left"==this.setting.btnside?(this.$btn.addClass("is-left"),!1):"right"==this.setting.btnside?(this.$btn.addClass("is-right"),!1):void 0},elementDrawerSide:function(){return"left"==this.setting.drawerside?(this.$el.addClass("is-left"),!1):"right"==this.setting.drawerside?(this.$el.addClass("is-right"),!1):void 0},fixedBarOnScroll:function(){var t=this,i="ontouchstart"in document?"touchmove":"scroll";this.$window.on(i,function(){var i=e(window).scrollTop();t.$btn.hasClass("is-open")||(i>0&&i>t.start_pos?t.fixedBarSlideOut():t.fixedBarSlideIn(),t.start_pos=i)})},fixedBarSlideIn:function(){this.$fixed_bar.removeClass("is-slideout")},fixedBarSlideOut:function(){this.$fixed_bar.addClass("is-slideout")}}),e.fn.simpleDrawer=function(t){return this.each(function(){new e.simpleDrawer(this,t)})}}(jQuery);